%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Clean CV Structure File
% Based on Wilson Resume/CV
% Simplified + modernized for XeLaTeX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%   PACKAGES AND CONFIGURATION
%----------------------------------------------------------------------------------------

\usepackage[a4paper, hmargin=23mm, vmargin=30mm, top=20mm]{geometry} % Margins

\usepackage{fancyhdr}   % Header & footer
\usepackage{lastpage}   % For page count

\setcounter{secnumdepth}{0} % No section numbering



% --- Fonts ---
\usepackage{fontspec} % Use system fonts
\setmainfont[Path = ./fonts/,
  Extension = .otf,
  BoldFont = Erewhon-Bold,
  ItalicFont = Erewhon-Italic,
  BoldItalicFont = Erewhon-BoldItalic,
  SmallCapsFeatures = {Letters = SmallCaps}
]{Erewhon-Regular}

% --- Colors ---
\usepackage{color}
\definecolor{slateblue}{rgb}{0.17,0.22,0.34}

% --- Section formatting ---
\usepackage{sectsty}
\sectionfont{\color{slateblue}}

% --- URL + hyperlinks ---
\usepackage{xurl}       % Allow line breaks in long URLs
\usepackage{hyperref}
\hypersetup{
  breaklinks=true,
  colorlinks=true,
  urlcolor=blue,
  linkcolor=slateblue,
  citecolor=slateblue
}

% --- Page style ---
\fancypagestyle{plain}{%
  \fancyhf{}%
  \cfoot{\thepage\ of \pageref{LastPage}}%
}
\pagestyle{plain}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% --- Paragraphs ---
\setlength\parindent{0pt}

%----------------------------------------------------------------------------------------
%   CUSTOM ENVIRONMENTS AND COMMANDS
%----------------------------------------------------------------------------------------

% Non-indenting itemize
\newenvironment{itemize-noindent}
  {\setlength{\leftmargini}{0em}\begin{itemize}}
  {\end{itemize}}

% Adjusted text width for tabbing blocks
\newlength{\smallertextwidth}
\setlength{\smallertextwidth}{\textwidth}
\addtolength{\smallertextwidth}{-2cm}

% Custom bullet
\newcommand{\sqbullet}{~\vrule height 1ex width .8ex depth -.2ex}

%----------------------------------------------------------------------------------------
%   HEADER COMMAND
%----------------------------------------------------------------------------------------

\renewcommand{\title}[1]{%
  {\huge{\color{slateblue}\textbf{#1}}}\\[2pt]
  \rule{\textwidth}{0.5mm}\\
}

%----------------------------------------------------------------------------------------
%   JOB COMMAND
%----------------------------------------------------------------------------------------

\newcommand{\job}[6]{%
\begin{tabbing}
\hspace{2cm} \= \kill
\textbf{#1} \> \href{#4}{#3} \\
\textbf{#2} \>\+ \textit{#5} \\
\begin{minipage}{\smallertextwidth}
\vspace{2mm}
#6
\end{minipage}
\end{tabbing}
\vspace{2mm}
}

%----------------------------------------------------------------------------------------
%   SKILL GROUP COMMAND
%----------------------------------------------------------------------------------------

\newcommand{\skillgroup}[2]{%
\begin{tabbing}
\hspace{5mm} \= \kill
\sqbullet \>\+ \textbf{#1} \\
\begin{minipage}{\smallertextwidth}
\vspace{2mm}
#2
\end{minipage}
\end{tabbing}
}

%----------------------------------------------------------------------------------------
%   INTERESTS
%----------------------------------------------------------------------------------------

\newcommand{\interestsgroup}[1]{%
\begin{tabbing}
\hspace{5mm} \= \kill
#1
\end{tabbing}
\vspace{-10mm}
}

\newcommand{\interest}[1]{\sqbullet \> \textbf{#1}\\[3pt]}

%----------------------------------------------------------------------------------------
%   TABBED BLOCK COMMAND
%----------------------------------------------------------------------------------------

\newcommand{\tabbedblock}[1]{%
\begin{tabbing}
\hspace{2cm} \= \hspace{4cm} \= \kill
#1
\end{tabbing}
}
